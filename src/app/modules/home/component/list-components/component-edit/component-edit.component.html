<div class="w-[calc(100vw-270px)] h-[calc(100vh-80px)] font-poppins flex flex-col justify-between">
  <section class="w-full min-h-[68px] bg-white border-b">
    <button (click)="onAllProducts()"
            class=" w-[173px] h-full bg-[#3B5162] flex items-center justify-center text-white">
      <svg fill="none" height="25" viewBox="0 0 25 25" width="25" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M5.75 4.25H19.25C19.4489 4.25 19.6397 4.32902 19.7803 4.46967C19.921 4.61032 20 4.80109 20 5V19.25C20 19.8467 19.7629 20.419 19.341 20.841C18.919 21.2629 18.3467 21.5 17.75 21.5H7.25C6.65326 21.5 6.08097 21.2629 5.65901 20.841C5.23705 20.419 5 19.8467 5 19.25V5C5 4.80109 5.07902 4.61032 5.21967 4.46967C5.36032 4.32902 5.55109 4.25 5.75 4.25Z"
          fill="#E0E6E9"
          opacity="0.2"/>
        <path d="M9.5 12.5H15.5" stroke="#E0E6E9" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>
        <path d="M9.5 15.5H15.5" stroke="#E0E6E9" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>
        <path
          d="M5.75 4.25H19.25C19.4489 4.25 19.6397 4.32902 19.7803 4.46967C19.921 4.61032 20 4.80109 20 5V19.25C20 19.8467 19.7629 20.419 19.341 20.841C18.919 21.2629 18.3467 21.5 17.75 21.5H7.25C6.65326 21.5 6.08097 21.2629 5.65901 20.841C5.23705 20.419 5 19.8467 5 19.25V5C5 4.80109 5.07902 4.61032 5.21967 4.46967C5.36032 4.32902 5.55109 4.25 5.75 4.25Z"
          fill="#E5EDFE" fill-opacity="0.5" stroke="#E0E6E9" stroke-linecap="round" stroke-linejoin="round"
          stroke-width="1.5"/>
        <path d="M8 2.75V5.75" stroke="#F8F9FD" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>
        <path d="M12.5 2.75V5.75" stroke="#F8F9FD" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>
        <path d="M17 2.75V5.75" stroke="#F8F9FD" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>
      </svg>
      <span>All Products</span>
    </button>
  </section>
  <!-- <div class="w-full h-[calc(100vh-(290px))] bg-[#F8F9FD] mx-2">-->

  <!-- overscroll-y-contain overflow-x-hidden -->
  @if (invoiceEdit != undefined) {

    <section class="w-full h-[calc(100vh-(290px))] flex items-center">
      <div class="w-full h-full flex mx-4 space-x-4 mt-2">

        <div class="w-1/2 h-full bg-white border rounded-2xl items-center justify-center">
          <form [formGroup]="formInventoryEdit!" (ngSubmit)="onSubmit()"
                class="flex flex-col items-center justify-center space-x-4 mx-6">

            <div class="h-[70px] w-full flex justify-between">
              <div class="w-full mt-4 flex justify-between items-center">

                <span class="text-[20px] text-black font-semibold font-poppins">
                  Inventory
                </span>
                <button
                  type="button"
                  class="w-[152px] h-[36px] bg-[#557AD9] flex items-center justify-center border-[#557AD9]
                         border-2 rounded-md text-white"
                  (click)="moveComponent()">
                  Adjust
                </button>
              </div>
              <hr>
            </div>

            <div class="h-[170px] w-full flex items-center justify-start mx-[24px] space-x-3">
              <div class="w-[20%] min-h-[140px] border items-center justify-center flex rounded-[13px]">
                <h1>Image</h1>
              </div>
              <div class="w-[80%] min-h-[140px]">
                <div><span class="font-semibold">Description</span></div>
                <textarea id="message" rows="4"
                          formControlName="description"
                          style="overflow:auto;resize:none"
                          class="w-full h-[120px] text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300
                       focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600
                       dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
                       dark:focus:border-blue-500" placeholder="Write description here..."></textarea>
              </div>
            </div>
            <div class="w-full flex">
              <div class="flex flex-col w-full space-y-4 mb-6">
                <span class="text-[20px] font-semibold">Details</span>

                <div class="flex flex-col mr-6">
                  <label for="productName" class="block text-[12px] font-semibold text-gray-900 dark:text-white">Product
                    Name</label>
                  <input type="text" id="productName"
                         formControlName="name"
                         class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500
                                focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600
                                dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
                                dark:focus:border-blue-500" placeholder="Product name" required>
                </div>

                <div class="flex flex-col mr-6">
                  <label for="upc"
                         class="block text-[12px] font-semibold text-gray-900 dark:text-white">UPC
                  </label>
                  <input type="number" id="upc"
                         formControlName="upc"
                         class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500
                              focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600
                              dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
                              dark:focus:border-blue-500" placeholder="UPC" required>
                </div>
                <div class="flex flex-col mr-6">
                  <label for="measure"
                         class="block text-[12px] font-semibold text-gray-900 dark:text-white">Measure
                  </label>
                  <select id="measure"
                          formControlName="measureId"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-[14px] rounded-lg text-left
                                 focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5
                                 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white
                                 dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    @for (item of measures; track item) {
                      <option value="{{item.id}}" selected>{{ item.name }}</option>
                    }
                  </select>
                  <!--
                  <input type="text" id="measure"
                         [(ngModel)]="invoiceEdit!.measure"
                         class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500
                              focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600
                              dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
                              dark:focus:border-blue-500" placeholder="MeasureModel" required>
                  -->
                </div>
                <div class="flex flex-col mr-6">
                  <label for="category"
                         class="block text-[12px] font-semibold text-gray-900 dark:text-white">Category</label>
                  <select id="category"
                          formControlName="categoryComponentId"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-[14px] rounded-lg text-left
                 focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5
                 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white
                 dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    @for (item of categories; track item) {
                      <option value="{{item.id}}" selected>{{ item.name }}</option>
                    }
                  </select>
                  <!--
                  <input type="text" id="category"
                         [(ngModel)]="invoiceEdit!.componentCategoryId"
                         class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500
                              focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600
                              dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
                              dark:focus:border-blue-500" placeholder="Category" required>
                  -->
                </div>
                <div class="flex flex-col mr-6">
                  <label for="stock"
                         class="block mb-2 text-[12px] font-semibold text-gray-900 dark:text-white">Minimun stock
                  </label>
                  <input type="number" id="stock"
                         formControlName="minimumStock"
                         class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500
              focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600
              dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
              dark:focus:border-blue-500" placeholder="Stock" required>
                </div>
                <!--
                <div class="flex flex-col mr-6">
                  <label for="datepickerCaducity"
                         class="block text-[12px] font-semibold text-gray-900 dark:text-white">Caducity date
                  </label>

                  <input datepicker type="text" id="datepickerCaducity"
                         datepicker-format="mm/dd/yyyy"
                         [(ngModel)]="invoiceEdit!.expiryDate"
                         class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500
              focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600
              dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
              dark:focus:border-blue-500" placeholder="Caducity" required>
                </div>
                -->
              </div>
              <div class="flex flex-col w-full">
                <div class="flex flex-col w-full space-y-4">
                  <span class="text-[20px] font-semibold">Pricing & Tax</span>
                  <div class="flex flex-col">
                    <label for="cost"
                           class="block text-[12px] font-semibold text-gray-900 dark:text-white">Cost price
                    </label>
                    <input type="number" id="cost"
                           [disabled]="!isNewComponent"
                           formControlName="unitCost"
                           class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500
              focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600
              dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
              dark:focus:border-blue-500" placeholder="Cost" required>
                  </div>
                  <div class="flex flex-col">
                    <label for="price"
                           class="block text-[12px] font-semibold text-gray-900 dark:text-white">Quantity</label>
                    <input type="number" id="price"
                           [disabled]="!isNewComponent"
                           formControlName="unitInStock"
                           class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500
              focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600
              dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
              dark:focus:border-blue-500" placeholder="Price" required>
                  </div>

                  <div class="flex flex-col">
                    <!--<span class="text-[20px] font-semibold my-2">Quantity</span>-->
                    <label for="balance" class="block text-[12px] font-semibold text-gray-900 dark:text-white">
                      Balance</label>
                    <div class="flex">
                      <input type="number" id="balance"
                             [disabled]="true"
                             formControlName="amount"
                             class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-l-lg focus:ring-blue-500
                                    focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600
                                    dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
                                    dark:focus:border-blue-500" placeholder="Balance" required>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="w-1/2 h-full bg-white border rounded-2xl items-center justify-center">
          <div class="flex flex-col items-center justify-center mx-6">
            <div class="h-[70px] w-full flex flex-col">
              <div class="flex justify-between items-center my-3">
                <div>
                  <!--
                  <input type="text" matInput
                         class="w-[200px] bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500
                                  focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600
                                  dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500
                                  dark:focus:border-blue-500"
                         [customRangeDirection]="true"
                         (change)="changeDateRange($event)"
                         ngxDaterangepickerMd
                         [locale]="{applyLabel: 'ok', format: 'MM-DD-YYYY'}"
                         [ranges]="varGlobalService.ranges"
                         [alwaysShowCalendars]="true"
                         startKey="start"
                         endKey="end"
                         name="daterange"/>
                  -->
                  <app-button-date-range
                    (onChangeDate)="changeDateRange($event)"
                    [dateRange]="RangeDateOperation.Last7Days"
                    [emitInitialRange]="true"/>

                </div>
                <div>
                  <span class="text-[20px] text-black font-semibold font-poppins">
                    Operations
                  </span>
                </div>
              </div>
              <hr>
            </div>
            <div class="w-[100%] h-[62vh] flex flex-col justify-center">
              @if (loading) {
                <div class="w-full h-full flex items-center justify-center">
                  <svg
                    aria-hidden="true"
                    role="status"
                    class="inline w-[70px] h-[70px] mr-3 text-white animate-spin"
                    viewBox="0 0 100 101"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
                      fill="#9747FF"
                    />
                    <path
                      d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
                      fill="#50D1AA"
                    />
                  </svg>
                </div>
              } @else {
                <ag-grid-angular
                  style="width: 100%; height: 100%; padding: 4px"
                  class="ag-theme-material"
                  [rowHeight]="45"
                  [suppressCellFocus]="true"
                  [defaultColDef]="varGlobalService.defaultColDef"
                  [columnDefs]="columnDefs"
                  [rowData]="rowData"
                  (firstDataRendered)="onFirstDataRendered($event)"
                ></ag-grid-angular>
              }
            </div>
          </div>
        </div>
      </div>
    </section>
  }

  <div class="flex w-full h-[98px] justify-end border-t ">
    <div class="flex items-center justify-center">
      <button (click)="onSubmit()"
              [disabled]="!formInventoryEdit?.valid"
              class="w-[244px] h-[64px] text-white bg-[#50D1AA] shadow text-center mr-4
                    font-semibold rounded-lg text-sm focus:outline-none
                    disabled:bg-gray-300
                    flex items-center justify-center">
        <svg fill="none" height="21" viewBox="0 0 21 21" width="21" xmlns="http://www.w3.org/2000/svg">
          <path d="M3.9375 3.9375V15.8125L5.1875 17.0625H17.0625V3.9375H3.9375Z" fill="#F8F9FD" opacity="0.2"/>
          <path
            d="M3.9375 11.6932V4.5625C3.9375 4.39674 4.00335 4.23777 4.12056 4.12056C4.23777 4.00335 4.39674 3.9375 4.5625 3.9375H16.4375C16.6033 3.9375 16.7622 4.00335 16.8794 4.12056C16.9967 4.23777 17.0625 4.39674 17.0625 4.5625V16.4375C17.0625 16.6033 16.9967 16.7622 16.8794 16.8794C16.7622 16.9967 16.6033 17.0625 16.4375 17.0625H11.0966"
            stroke="#F8F9FD" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>
          <path d="M10.5 12.375L5.5 17.375L3 14.875" stroke="white" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="1.5"/>
        </svg>
        <span class="ml-1">{{ isNewComponent ? "Save" : "Update" }}</span>
      </button>
    </div>
  </div>

</div>
